SET FOREIGN_KEY_CHECKS=0;



DROP TABLE IF EXISTS ACTIVIDAD;
DROP TABLE IF EXISTS ACTIVIDAD_GRUPO;
DROP TABLE IF EXISTS ACTIVIDAD_ROL;
DROP TABLE IF EXISTS ADJUNTO;
DROP TABLE IF EXISTS APLICACION;
DROP TABLE IF EXISTS BITACORA;
DROP TABLE IF EXISTS BITACORA_DOCUMENTO;
DROP TABLE IF EXISTS COMENTARIO;
DROP TABLE IF EXISTS COMPONENTE;
DROP TABLE IF EXISTS CONFIG_GESTOR_DOC;
DROP TABLE IF EXISTS DETALLES_COMPONENTE;
DROP TABLE IF EXISTS DOCUMENTO;
DROP TABLE IF EXISTS GRUPO;
DROP TABLE IF EXISTS GRUPO_ROL;
DROP TABLE IF EXISTS ID_GENERATOR;
DROP TABLE IF EXISTS INSTANCIA_PROPIEDAD;
DROP TABLE IF EXISTS INVENTARIO_CATALOGO;
DROP TABLE IF EXISTS MENU;
DROP TABLE IF EXISTS MODULO;
DROP TABLE IF EXISTS OBJETO_NEGOCIO_X_ACTIVIDAD;
DROP TABLE IF EXISTS PATRON;
DROP TABLE IF EXISTS PERMISO;
DROP TABLE IF EXISTS PROCESO;
DROP TABLE IF EXISTS PROPIEDAD;
DROP TABLE IF EXISTS REG_CATALOGO_HIJOS;
DROP TABLE IF EXISTS REGISTRO_CATALOGO;
DROP TABLE IF EXISTS REGLAS_COMPOSICION;
DROP TABLE IF EXISTS REL_ACT_SOL_ACTUAL;
DROP TABLE IF EXISTS REL_ACT_SOLICITUD;
DROP TABLE IF EXISTS REL_TIPO_COMPONENTE_PROPIEDAD;
DROP TABLE IF EXISTS REPOSITORIO;
DROP TABLE IF EXISTS ROL;
DROP TABLE IF EXISTS ROL_MENU;
DROP TABLE IF EXISTS SOLICITUD;
DROP TABLE IF EXISTS SOLICITUD_ACTUAL;
DROP TABLE IF EXISTS SUBMODULO;
DROP TABLE IF EXISTS TIPO_COMP_X_TIPO_DOC;
DROP TABLE IF EXISTS TIPO_COMPONENTE;
DROP TABLE IF EXISTS TIPO_DOCUMENTO;
DROP TABLE IF EXISTS TIPO_DOCUMENTO_PROCESO;
DROP TABLE IF EXISTS TIPO_DOCUMENTO_X_ACTIVIDAD;
DROP TABLE IF EXISTS TIPO_OPERACION;
DROP TABLE IF EXISTS TIPO_PROPIEDAD;
DROP TABLE IF EXISTS USUARIO;
DROP TABLE IF EXISTS USUARIO_GRUPO;
DROP TABLE IF EXISTS USUARIO_ROL;
DROP TABLE IF EXISTS VAL_OBJ_NEG_X_ACT;

CREATE TABLE ACTIVIDAD
(
	ID_ACTIVIDAD_B_P_M VARCHAR(255) NOT NULL,
	TITULO VARCHAR(100),
	DESCRIPCION VARCHAR(255),
	PRIORIDAD VARCHAR(50),
	EXPIRACION_DIAS BIGINT(20),
	EXPIRACION_HORAS BIGINT(20),
	EXPIRACION_MINUTOS BIGINT(20),
	ID_NOMBRE_COMPONENTE VARCHAR(255),
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID_PROCESO BIGINT(20),
	ID BIGINT(20) NOT NULL,
	PRIMARY KEY (ID),
	KEY (ID_PROCESO),
	CHECK CK_37876_77662(PRIORIDAD IN ('Alta', 'Media', 'Baja'))
) ;


CREATE TABLE ACTIVIDAD_GRUPO
(
	ID_GRUPO BIGINT(20) NOT NULL,
	ID_ACTIVIDAD BIGINT(20) NOT NULL,
	PRIMARY KEY (ID_GRUPO, ID_ACTIVIDAD),
	KEY (ID_GRUPO),
	KEY (ID_ACTIVIDAD)
) ;


CREATE TABLE ACTIVIDAD_ROL
(
	ID_ROL BIGINT(20) NOT NULL,
	ID_ACTIVIDAD BIGINT(20) NOT NULL,
	PRIMARY KEY (ID_ROL, ID_ACTIVIDAD),
	KEY (ID_ROL),
	KEY (ID_ACTIVIDAD)
) ;


CREATE TABLE ADJUNTO
(
	ID_DOCUMENTO_GESTOR BIGINT(20) NOT NULL,
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID_REL_ACTIVIDAD_SOLICITUD BIGINT(20),
	ID BIGINT(20) NOT NULL,
	ID_REL_ACT_SOLICITUD BIGINT(0),
	PRIMARY KEY (ID),
	UNIQUE UQ_34080_58476(ID_DOCUMENTO_GESTOR),
	KEY (ID_REL_ACT_SOLICITUD)
) ;


CREATE TABLE APLICACION
(
	ID_NOMBRE VARCHAR(50) NOT NULL,
	DESCRIPCION VARCHAR(100) NOT NULL,
	ESTADO VARCHAR(50) NOT NULL,
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID BIGINT(20) NOT NULL,
	PRIMARY KEY (ID),
	CHECK CK_37852_77503(ESTADO IN ('Activo', 'Inactivo'))
) ;


CREATE TABLE BITACORA
(
	FECHA TIMESTAMP,
	CAD_DATOS VARCHAR(2000) NOT NULL,
	PETICION VARCHAR(50),
	ID_NOMBRE_COMPONENTE VARCHAR(255),
	ID_NOMBRE_TIPO_COMPONENTE VARCHAR(50),
	ID_NOMBRE_TIPO_OPERACION VARCHAR(50),
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID BIGINT(20) NOT NULL,
	PRIMARY KEY (ID)
) ;


CREATE TABLE BITACORA_DOCUMENTO
(
	NOMBRE_EVENTO VARCHAR(50) NOT NULL,
	FECHA TIMESTAMP NOT NULL,
	USUARIO VARCHAR(50) NOT NULL,
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID_DOCUMENTO BIGINT(20),
	ID BIGINT(20) NOT NULL,
	PRIMARY KEY (ID),
	KEY (ID_DOCUMENTO)
) ;


CREATE TABLE COMENTARIO
(
	COMENTARIO VARCHAR(255) NOT NULL,
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID_REL_ACTIVIDAD_SOLICITUD BIGINT(20),
	ID BIGINT(20) NOT NULL,
	ID_REL_ACT_SOLICITUD BIGINT(0),
	PRIMARY KEY (ID),
	KEY (ID_REL_ACT_SOLICITUD)
) ;


CREATE TABLE COMPONENTE
(
	DESCRIPCION VARCHAR(255) NOT NULL,
	DUENNO VARCHAR(50) NOT NULL,
	ESTADO VARCHAR(50) NOT NULL,
	ETIQUETA VARCHAR(50) NOT NULL,
	FORMATO VARCHAR(2000),
	ID_NOMBRE VARCHAR(255) NOT NULL,
	JUSTIFICACION VARCHAR(100) NOT NULL,
	NOMBRE_JAVA VARCHAR(50) NOT NULL,
	NOMBRE_TABLA VARCHAR(50) NOT NULL,
	PETICION VARCHAR(100) NOT NULL,
	TAMANO BIGINT(20),
	TIPO_DATO VARCHAR(50) NOT NULL,
	USUARIO_CREADOR VARCHAR(50) NOT NULL,
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID_TIPO_COMPONENTE BIGINT(20),
	ID_LISTA_VALORES BIGINT(20),
	ID_APLICACION BIGINT(20),
	ID BIGINT(20) NOT NULL,
	PRIMARY KEY (ID),
	KEY (ID_TIPO_COMPONENTE),
	CHECK CK_37861_77551(ESTADO IN ('Activo', 'Inactivo', 'PendienteRevision')),
	CHECK CK_37861_77560(TIPO_DATO IN ('Texto', 'Decimal', 'Entero', 'Boleano', 'Doble', 'Flotante', 'ListaValores', 'Fecha', 'Lista'))
) ;


CREATE TABLE CONFIG_GESTOR_DOC
(
	RUTA_RELATIVA VARCHAR(100),
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID_REPOSITORIO BIGINT(20),
	ID BIGINT(20) NOT NULL,
	PRIMARY KEY (ID)
) ;


CREATE TABLE DETALLES_COMPONENTE
(
	ID_COMPONENTES_DETALLE BIGINT(20) NOT NULL,
	ID_COMPONENTES_BASE BIGINT(20) NOT NULL,
	PRIMARY KEY (ID_COMPONENTES_DETALLE, ID_COMPONENTES_BASE),
	KEY (ID_COMPONENTES_DETALLE),
	KEY (ID_COMPONENTES_BASE)
) ;


CREATE TABLE DOCUMENTO
(
	NOMBRE VARCHAR(100) NOT NULL,
	ESTADO VARCHAR(50) NOT NULL,
	ID_TIPO_COMPONENTE BIGINT(20) NOT NULL,
	ID_COMPONENTE BIGINT(20) NOT NULL,
	ID_INSTANCIA_COMPONENTE BIGINT(20) NOT NULL,
	RUTA VARCHAR(100),
	FECHA_REGISTRO TIMESTAMP NOT NULL,
	USUARIO_REGISTRO VARCHAR(50) NOT NULL,
	FECHA_ELIMINACION TIMESTAMP,
	USUARIO_ELIMINACION VARCHAR(50),
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID_TIPO_DOCUMENTO BIGINT(20),
	ID BIGINT(20) NOT NULL,
	PRIMARY KEY (ID),
	KEY (ID_TIPO_DOCUMENTO),
	CHECK CK_37869_77606(ESTADO IN ('Registrado', 'Eliminado'))
) ;


CREATE TABLE GRUPO
(
	ID_NOMBRE_GRUPO VARCHAR(50),
	DESCRIPCION VARCHAR(100),
	ESTADO VARCHAR(50),
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID BIGINT(20) NOT NULL,
	PRIMARY KEY (ID),
	CHECK CK_37886_77735(ESTADO IN ('Activo', 'Inactivo'))
) ;


CREATE TABLE GRUPO_ROL
(
	ID_ROL BIGINT(20) NOT NULL,
	ID_GRUPO BIGINT(20) NOT NULL,
	PRIMARY KEY (ID_ROL, ID_GRUPO),
	KEY (ID_ROL),
	KEY (ID_GRUPO)
) ;


CREATE TABLE ID_GENERATOR
(
	TABLE_NAME VARCHAR(50) NOT NULL,
	ID_COUNT BIGINT(20) NOT NULL
) ;


CREATE TABLE INSTANCIA_PROPIEDAD
(
	CAD_VALOR VARCHAR(2000) NOT NULL,
	ID_NOMBRE_COMPONENTE VARCHAR(255) NOT NULL,
	ID_NOMBRE_PROPIEDAD VARCHAR(50) NOT NULL,
	ID_NOMBRE_TIPO_COMPONENTE VARCHAR(50) NOT NULL,
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID BIGINT(20) NOT NULL,
	PRIMARY KEY (ID)
) ;


CREATE TABLE INVENTARIO_CATALOGO
(
	ID_NOMBRE VARCHAR(50) NOT NULL,
	DESCRIPCION VARCHAR(100) NOT NULL,
	ESTADO VARCHAR(50) NOT NULL,
	TIPO_DATO VARCHAR(50) NOT NULL,
	PREXISION BIGINT(20),
	TAMANO BIGINT(20),
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID BIGINT(20) NOT NULL,
	PRIMARY KEY (ID),
	CHECK CK_37853_77509(ESTADO IN ('Activo', 'Inactivo')),
	CHECK CK_37853_77510(TIPO_DATO IN ('Double', 'Date', 'String', 'Long'))
) ;


CREATE TABLE MENU
(
	ETIQUETA VARCHAR(50),
	PARAMETROS VARCHAR(50),
	ICONO VARCHAR(50),
	ORDEN BIGINT(20),
	INTERFAZ VARCHAR(50),
	INVOCACION_INTERFAZ VARCHAR(50),
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID_APLICACION BIGINT(20),
	ID_MENU_PADRE BIGINT(20),
	ID BIGINT(20) NOT NULL,
	ID_MENU BIGINT(0),
	PRIMARY KEY (ID),
	KEY (ID_APLICACION),
	KEY (ID_MENU)
) ;


CREATE TABLE MODULO
(
	ID_NOMBRE VARCHAR(50) NOT NULL,
	DESCRIPCION VARCHAR(100) NOT NULL,
	ESTADO VARCHAR(50) NOT NULL,
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID_APLICACION BIGINT(20),
	ID BIGINT(20) NOT NULL,
	PRIMARY KEY (ID),
	KEY (ID_APLICACION),
	CHECK CK_37854_77518(ESTADO IN ('Activo', 'Inactivo'))
) ;


CREATE TABLE OBJETO_NEGOCIO_X_ACTIVIDAD
(
	ID_NOMBRE_COMPONENTE VARCHAR(255),
	OBLIGATORIO BIT,
	SOLO_LECTURA BIT,
	VISIBLE BIT,
	PARAMETRO_BPM BIT,
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID_ACTIVIDAD BIGINT(20),
	ID BIGINT(20) NOT NULL,
	PRIMARY KEY (ID),
	KEY (ID_ACTIVIDAD)
) ;


CREATE TABLE PATRON
(
	ID_MODELO_B_P_M VARCHAR(100) NOT NULL,
	NOMBRE VARCHAR(50) NOT NULL,
	DESCRIPCION VARCHAR(100),
	ESTADO VARCHAR(50),
	VERSION VARCHAR(50) NOT NULL,
	NUMERO_ACTIVIDADES BIGINT(20),
	AREA_RESPONSABLE VARCHAR(50),
	FECHA_CREACION TIMESTAMP,
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID_VERSION_ANTERIOR BIGINT(20),
	ID BIGINT(20) NOT NULL,
	PRIMARY KEY (ID),
	CHECK CK_37874_77648(ESTADO IN ('Activo', 'Inactivo', 'Cancelado', 'Pendiente_Activacion'))
) ;


CREATE TABLE PERMISO
(
	NIVEL CHAR(10),
	TIPO_PERMISO VARCHAR(50),
	ID_NOMBRE_TIPO_COMPONENTE VARCHAR(50),
	ID_NOMBRE_COMPONENTE VARCHAR(255),
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID_USUARIO BIGINT(20),
	ID_ROL BIGINT(20),
	ID_COMPONENTE BIGINT(20),
	ID BIGINT(20) NOT NULL,
	PRIMARY KEY (ID),
	KEY (ID_USUARIO),
	KEY (ID_ROL),
	KEY (ID_COMPONENTE)
) ;


CREATE TABLE PROCESO
(
	ID_MODELO_B_P_M VARCHAR(255),
	ID_OBJETO_NEGOCIO VARCHAR(255),
	NOMBRE VARCHAR(255) NOT NULL,
	ESTADO VARCHAR(50) NOT NULL,
	VERSION VARCHAR(50),
	NUMERO_ACTIVIDADES BIGINT(20),
	EXPIRACION_DIAS BIGINT(20),
	EXPIRACION_HORAS BIGINT(20),
	EXPIRACION_MINUTOS BIGINT(20),
	AREA_RESPONSABLE VARCHAR(50),
	FECHA_CREACION TIMESTAMP,
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID_PATRON BIGINT(20),
	ID_VERSION_ANTERIOR BIGINT(20),
	ID BIGINT(20) NOT NULL,
	PRIMARY KEY (ID),
	KEY (ID_PATRON),
	CHECK CK_37878_77683(ESTADO IN ('Activo', 'Inactivo', 'Registrado', 'Parametrizado', 'Cancelado', 'Pendiente_Asociacion_Patron', 'Pendiente_Parametrizacion'))
) ;


CREATE TABLE PROPIEDAD
(
	DESCRIPCION VARCHAR(100) NOT NULL,
	ESTADO VARCHAR(50) NOT NULL,
	FORMATO VARCHAR(2000),
	ID_NOMBRE VARCHAR(50) NOT NULL,
	TAMANNO BIGINT(20),
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID_TIPO_PROPIEDAD BIGINT(20),
	ID BIGINT(20) NOT NULL,
	PRIMARY KEY (ID),
	KEY (ID_TIPO_PROPIEDAD),
	CHECK CK_37883_77715(ESTADO IN ('Activo', 'Inactivo', 'Pendiente_Revision'))
) ;


CREATE TABLE REG_CATALOGO_HIJOS
(
	ID_REGISTROS_CATALOGO_HIJOS BIGINT(20) NOT NULL,
	ID_REGISTROS_CATALOGO_PADRES BIGINT(20) NOT NULL,
	PRIMARY KEY (ID_REGISTROS_CATALOGO_HIJOS, ID_REGISTROS_CATALOGO_PADRES),
	KEY (ID_REGISTROS_CATALOGO_HIJOS),
	KEY (ID_REGISTROS_CATALOGO_PADRES)
) ;


CREATE TABLE REGISTRO_CATALOGO
(
	VALOR VARCHAR(50) NOT NULL,
	DESCRIPCION VARCHAR(100) NOT NULL,
	ESTADO VARCHAR(50) NOT NULL,
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID_INVENTARIO_CATALOGO BIGINT(20),
	ID BIGINT(20) NOT NULL,
	PRIMARY KEY (ID),
	KEY (ID_INVENTARIO_CATALOGO),
	CHECK CK_37855_77525(ESTADO IN ('Activo', 'Inactivo'))
) ;


CREATE TABLE REGLAS_COMPOSICION
(
	OPCIONAL CHAR(10),
	CARDINALIDAD VARCHAR(50),
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID_TIPO_COMPONENTE_DESTINO BIGINT(20),
	ID_TIPO_COMPONENTE_BASE BIGINT(20),
	ID BIGINT(20) NOT NULL,
	ID_TIPO_COMPONENTE BIGINT(0),
	PRIMARY KEY (ID),
	KEY (ID_TIPO_COMPONENTE)
) ;


CREATE TABLE REL_ACT_SOL_ACTUAL
(
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID_REL_ACTIVIDAD_SOLICITUD BIGINT(20),
	ID_SOLCITIDUD_ACTUAL BIGINT(20),
	ID BIGINT(20) NOT NULL,
	ID_SOLICITUD_ACTUAL BIGINT(0),
	PRIMARY KEY (ID),
	KEY (ID_SOLICITUD_ACTUAL)
) ;


CREATE TABLE REL_ACT_SOLICITUD
(
	ESTADO VARCHAR(50) NOT NULL,
	ESTADO_NEGOCIO VARCHAR(50),
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID_ACTIVIDAD BIGINT(20),
	REL_ACT_SOL_ACT BIGINT(20),
	ID_SOLICITUD BIGINT(20),
	ID BIGINT(20) NOT NULL,
	PRIMARY KEY (ID),
	KEY (ID_SOLICITUD),
	CHECK CK_37845_77453(ESTADO IN ('Por_Asignar', 'Asignada', 'Finalizada', 'Reasignada', 'Cancelada', 'Suspendida', 'Reanudada', 'Expirada'))
) ;


CREATE TABLE REL_TIPO_COMPONENTE_PROPIEDAD
(
	OPCIONAL CHAR(10),
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID_TIPO_COMPONENTE BIGINT(20),
	ID_PROPIEDAD BIGINT(20),
	ID BIGINT(20) NOT NULL,
	PRIMARY KEY (ID),
	KEY (ID_TIPO_COMPONENTE)
) ;


CREATE TABLE REPOSITORIO
(
	NOMBRE VARCHAR(50) NOT NULL,
	DESCRIPCION VARCHAR(100) NOT NULL,
	ESTADO VARCHAR(50) NOT NULL,
	IP VARCHAR(15),
	PUERTO BIGINT(20),
	TIPO_REPOSITORIO VARCHAR(50) NOT NULL,
	USUARIO_ACCESO VARCHAR(50),
	PASSWORD_ACCESO VARCHAR(50),
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID_CONFIGURACION BIGINT(20),
	ID BIGINT(20) NOT NULL,
	PRIMARY KEY (ID),
	CHECK CK_37870_77621(ESTADO IN ('Activo', 'Inactivo')),
	CHECK CK_37870_77624(TIPO_REPOSITORIO IN ('FTP', 'HTTP', 'FTPS', 'HTTPS', 'Alfresco', 'Local'))
) ;


CREATE TABLE ROL
(
	ID_NOMBRE_ROL VARCHAR(50),
	DESCRIPCION VARCHAR(100),
	ESTADO VARCHAR(50),
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID BIGINT(20) NOT NULL,
	PRIMARY KEY (ID),
	CHECK CK_37892_77768(ESTADO IN ('Activo', 'Inactivo'))
) ;


CREATE TABLE ROL_MENU
(
	ID_MENU BIGINT(20) NOT NULL,
	ID_ROL BIGINT(20) NOT NULL,
	PRIMARY KEY (ID_MENU, ID_ROL),
	KEY (ID_MENU),
	KEY (ID_ROL)
) ;


CREATE TABLE SOLICITUD
(
	CLAVE_SOLICITUD_B_P_M BIGINT(20) NOT NULL,
	ESTADO VARCHAR(50) NOT NULL,
	ESTADO_NEGOCIO VARCHAR(50),
	PRIORIDAD VARCHAR(50),
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID_PROCESO_INSTANCIADO BIGINT(20),
	ID_SOLICITUD_ACTUAL BIGINT(20),
	ID BIGINT(20) NOT NULL,
	PRIMARY KEY (ID),
	CHECK CK_37847_77469(ESTADO IN ('Activa', 'Finalizada', 'Expirada', 'Cancelada')),
	CHECK CK_37847_77471(PRIORIDAD IN ('Alta', 'Media', 'Baja'))
) ;


CREATE TABLE SOLICITUD_ACTUAL
(
	CLAVE_SOLICITUD_B_P_M BIGINT(20) NOT NULL,
	FECHA_CUMPLIMIENTO TIMESTAMP,
	FECHA_INICIO TIMESTAMP,
	USUARIO_CREADOR VARCHAR(50),
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID BIGINT(20) NOT NULL,
	PRIMARY KEY (ID)
) ;


CREATE TABLE SUBMODULO
(
	ID_NOMBRE VARCHAR(50) NOT NULL,
	DESCRIPCION VARCHAR(100) NOT NULL,
	ESTADO VARCHAR(50) NOT NULL,
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID_MODULO BIGINT(20),
	ID BIGINT(20) NOT NULL,
	PRIMARY KEY (ID),
	KEY (ID_MODULO),
	CHECK CK_37857_77534(ESTADO IN ('Activo', 'Inactivo'))
) ;


CREATE TABLE TIPO_COMP_X_TIPO_DOC
(
	ID_TIPO_COMPONENTE BIGINT(20) NOT NULL,
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID_TIPO_DOCUMENTO BIGINT(20),
	ID BIGINT(20) NOT NULL,
	PRIMARY KEY (ID),
	KEY (ID_TIPO_DOCUMENTO)
) ;


CREATE TABLE TIPO_COMPONENTE
(
	ID_NOMBRE VARCHAR(50) NOT NULL,
	DESCRIPCION VARCHAR(100),
	ESTADO VARCHAR(50) NOT NULL,
	IND_BASE BIT,
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID BIGINT(20) NOT NULL,
	PRIMARY KEY (ID),
	CHECK CK_37865_77585(ESTADO IN ('Activo', 'Inactivo', 'PendienteRevision'))
) ;


CREATE TABLE TIPO_DOCUMENTO
(
	NOMBRE VARCHAR(50) NOT NULL,
	DESCRIPCION VARCHAR(100) NOT NULL,
	ESTADO VARCHAR(50) NOT NULL,
	RUTA_RELATIVA VARCHAR(100),
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID BIGINT(20) NOT NULL,
	PRIMARY KEY (ID),
	CHECK CK_37872_77638(ESTADO IN ('Activo', 'Inactivo'))
) ;


CREATE TABLE TIPO_DOCUMENTO_PROCESO
(
	ID_PROCESO BIGINT(20) NOT NULL,
	ID_TIPO_DOCUMENTO BIGINT(20) NOT NULL,
	PRIMARY KEY (ID_PROCESO, ID_TIPO_DOCUMENTO),
	KEY (ID_PROCESO),
	KEY (ID_TIPO_DOCUMENTO)
) ;


CREATE TABLE TIPO_DOCUMENTO_X_ACTIVIDAD
(
	OPCIONAL BIT,
	SOLO_LECTURA BIT,
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID_TIPO_DOCUMENTO BIGINT(20),
	ID BIGINT(20) NOT NULL,
	ID_ACTIVIDAD BIGINT(0),
	PRIMARY KEY (ID),
	KEY (ID_ACTIVIDAD),
	KEY (ID_TIPO_DOCUMENTO)
) ;


CREATE TABLE TIPO_OPERACION
(
	ID_NOMBRE VARCHAR(50) NOT NULL,
	DESCRIPCION VARCHAR(100) NOT NULL,
	ESTADO VARCHAR(50),
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID BIGINT(20) NOT NULL,
	PRIMARY KEY (ID),
	CHECK CK_37858_77541(ESTADO IN ('Activo', 'Inactivo'))
) ;


CREATE TABLE TIPO_PROPIEDAD
(
	DESCRIPCION VARCHAR(100) NOT NULL,
	ESTADO VARCHAR(50) NOT NULL,
	ID_NOMBRE VARCHAR(50) NOT NULL,
	IND_BASE BIT,
	RESOLUTOR VARCHAR(50),
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID BIGINT(20) NOT NULL,
	PRIMARY KEY (ID),
	CHECK CK_37884_77724(ESTADO IN ('Activo', 'Inactivo', 'Pendiente_Revision'))
) ;


CREATE TABLE USUARIO
(
	NOMBRE_USUARIO VARCHAR(20),
	NOMBRE VARCHAR(20),
	APELLIDO_PATERNO VARCHAR(30),
	APELLIDO_MATERNO VARCHAR(30),
	ESTADO VARCHAR(50),
	NUMERO_INTENTOS BIGINT(20),
	CORREO_ELECTRONICO VARCHAR(50),
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	ID BIGINT(20) NOT NULL,
	PRIMARY KEY (ID),
	CHECK CK_37896_77782(ESTADO IN ('Activo', 'Inactivo', 'Bloqueado'))
) ;


CREATE TABLE USUARIO_GRUPO
(
	ID_GRUPO BIGINT(20) NOT NULL,
	ID_USUARIO BIGINT(20) NOT NULL,
	PRIMARY KEY (ID_GRUPO, ID_USUARIO),
	KEY (ID_GRUPO),
	KEY (ID_USUARIO)
) ;


CREATE TABLE USUARIO_ROL
(
	ID_ROL BIGINT(20) NOT NULL,
	ID_USUARIO BIGINT(20) NOT NULL,
	PRIMARY KEY (ID_ROL, ID_USUARIO),
	KEY (ID_ROL),
	KEY (ID_USUARIO)
) ;


CREATE TABLE VAL_OBJ_NEG_X_ACT
(
	VALOR VARCHAR(255) NOT NULL,
	OBJETO VARCHAR(50),
	USUARIO_MODIFICADOR VARCHAR(50),
	F_TIME_STAMP TIMESTAMP,
	OBJ_NEG_X_ACT BIGINT(20),
	ID_REL_ACTIVIDAD_SOLICITUD BIGINT(20),
	ID BIGINT(20) NOT NULL,
	ID_REL_ACT_SOLICITUD BIGINT(0),
	PRIMARY KEY (ID),
	KEY (ID_REL_ACT_SOLICITUD)
) ;



SET FOREIGN_KEY_CHECKS=1;


ALTER TABLE ACTIVIDAD ADD CONSTRAINT FK_36189_36186 
	FOREIGN KEY (ID_PROCESO) REFERENCES PROCESO (ID);

ALTER TABLE ACTIVIDAD_GRUPO ADD CONSTRAINT FKR_36263_36189D 
	FOREIGN KEY (ID_GRUPO) REFERENCES GRUPO (ID);

ALTER TABLE ACTIVIDAD_GRUPO ADD CONSTRAINT FKR_36189_36263S 
	FOREIGN KEY (ID_ACTIVIDAD) REFERENCES ACTIVIDAD (ID);

ALTER TABLE ACTIVIDAD_ROL ADD CONSTRAINT FKR_36261_36189D 
	FOREIGN KEY (ID_ROL) REFERENCES ROL (ID);

ALTER TABLE ACTIVIDAD_ROL ADD CONSTRAINT FKR_36189_36261S 
	FOREIGN KEY (ID_ACTIVIDAD) REFERENCES ACTIVIDAD (ID);

ALTER TABLE ADJUNTO ADD CONSTRAINT FK_34080_34083 
	FOREIGN KEY (ID_REL_ACT_SOLICITUD) REFERENCES REL_ACT_SOLICITUD (ID);

ALTER TABLE BITACORA_DOCUMENTO ADD CONSTRAINT FK_35669_35663 
	FOREIGN KEY (ID_DOCUMENTO) REFERENCES DOCUMENTO (ID);

ALTER TABLE COMENTARIO ADD CONSTRAINT FK_34077_34083 
	FOREIGN KEY (ID_REL_ACT_SOLICITUD) REFERENCES REL_ACT_SOLICITUD (ID);

ALTER TABLE COMPONENTE ADD CONSTRAINT FK_37507_37510 
	FOREIGN KEY (ID_TIPO_COMPONENTE) REFERENCES TIPO_COMPONENTE (ID);

ALTER TABLE DETALLES_COMPONENTE ADD CONSTRAINT FKR_37507_37507D 
	FOREIGN KEY (ID_COMPONENTES_DETALLE) REFERENCES COMPONENTE (ID);

ALTER TABLE DETALLES_COMPONENTE ADD CONSTRAINT FKR_37507_37507S 
	FOREIGN KEY (ID_COMPONENTES_BASE) REFERENCES COMPONENTE (ID);

ALTER TABLE DOCUMENTO ADD CONSTRAINT FK_35663_35661 
	FOREIGN KEY (ID_TIPO_DOCUMENTO) REFERENCES TIPO_DOCUMENTO (ID);

ALTER TABLE GRUPO_ROL ADD CONSTRAINT FKR_36261_36263D 
	FOREIGN KEY (ID_ROL) REFERENCES ROL (ID);

ALTER TABLE GRUPO_ROL ADD CONSTRAINT FKR_36263_36261S 
	FOREIGN KEY (ID_GRUPO) REFERENCES GRUPO (ID);

ALTER TABLE MENU ADD CONSTRAINT FK_36264_36264 
	FOREIGN KEY (ID_MENU) REFERENCES MENU (ID);

ALTER TABLE MODULO ADD CONSTRAINT FK_37544_37546 
	FOREIGN KEY (ID_APLICACION) REFERENCES APLICACION (ID);

ALTER TABLE OBJETO_NEGOCIO_X_ACTIVIDAD ADD CONSTRAINT FK_36185_36189 
	FOREIGN KEY (ID_ACTIVIDAD) REFERENCES ACTIVIDAD (ID);

ALTER TABLE PERMISO ADD CONSTRAINT FK_36262_36265 
	FOREIGN KEY (ID_USUARIO) REFERENCES USUARIO (ID);

ALTER TABLE PERMISO ADD CONSTRAINT FK_36262_36261 
	FOREIGN KEY (ID_ROL) REFERENCES ROL (ID);

ALTER TABLE PERMISO ADD CONSTRAINT FK_36262_37507 
	FOREIGN KEY (ID_COMPONENTE) REFERENCES COMPONENTE (ID);

ALTER TABLE PROCESO ADD CONSTRAINT FK_36186_33639 
	FOREIGN KEY (ID_PATRON) REFERENCES PATRON (ID);

ALTER TABLE PROPIEDAD ADD CONSTRAINT FK_33690_33691 
	FOREIGN KEY (ID_TIPO_PROPIEDAD) REFERENCES TIPO_PROPIEDAD (ID);

ALTER TABLE REG_CATALOGO_HIJOS ADD CONSTRAINT FKR_37550_37550D 
	FOREIGN KEY (ID_REGISTROS_CATALOGO_HIJOS) REFERENCES REGISTRO_CATALOGO (ID);

ALTER TABLE REG_CATALOGO_HIJOS ADD CONSTRAINT FKR_37550_37550S 
	FOREIGN KEY (ID_REGISTROS_CATALOGO_PADRES) REFERENCES REGISTRO_CATALOGO (ID);

ALTER TABLE REGISTRO_CATALOGO ADD CONSTRAINT FK_37550_37548 
	FOREIGN KEY (ID_INVENTARIO_CATALOGO) REFERENCES INVENTARIO_CATALOGO (ID);

ALTER TABLE REGLAS_COMPOSICION ADD CONSTRAINT FK_37509_37510 
	FOREIGN KEY (ID_TIPO_COMPONENTE) REFERENCES TIPO_COMPONENTE (ID);

ALTER TABLE REL_ACT_SOL_ACTUAL ADD CONSTRAINT FK_34082_34079 
	FOREIGN KEY (ID_SOLICITUD_ACTUAL) REFERENCES SOLICITUD_ACTUAL (ID);

ALTER TABLE REL_ACT_SOLICITUD ADD CONSTRAINT FK_34083_34081 
	FOREIGN KEY (ID_SOLICITUD) REFERENCES SOLICITUD (ID);

ALTER TABLE REL_TIPO_COMPONENTE_PROPIEDAD ADD CONSTRAINT FK_37512_37510 
	FOREIGN KEY (ID_TIPO_COMPONENTE) REFERENCES TIPO_COMPONENTE (ID);

ALTER TABLE ROL_MENU ADD CONSTRAINT FKR_36264_36261D 
	FOREIGN KEY (ID_MENU) REFERENCES MENU (ID);

ALTER TABLE ROL_MENU ADD CONSTRAINT FKR_36261_36264S 
	FOREIGN KEY (ID_ROL) REFERENCES ROL (ID);

ALTER TABLE SUBMODULO ADD CONSTRAINT FK_37543_37544 
	FOREIGN KEY (ID_MODULO) REFERENCES MODULO (ID);

ALTER TABLE TIPO_COMP_X_TIPO_DOC ADD CONSTRAINT FK_35664_35661 
	FOREIGN KEY (ID_TIPO_DOCUMENTO) REFERENCES TIPO_DOCUMENTO (ID);

ALTER TABLE TIPO_DOCUMENTO_PROCESO ADD CONSTRAINT FKR_36186_35661D 
	FOREIGN KEY (ID_PROCESO) REFERENCES PROCESO (ID);

ALTER TABLE TIPO_DOCUMENTO_PROCESO ADD CONSTRAINT FKR_35661_36186S 
	FOREIGN KEY (ID_TIPO_DOCUMENTO) REFERENCES TIPO_DOCUMENTO (ID);

ALTER TABLE TIPO_DOCUMENTO_X_ACTIVIDAD ADD CONSTRAINT FK_36187_36189 
	FOREIGN KEY (ID_ACTIVIDAD) REFERENCES ACTIVIDAD (ID);

ALTER TABLE TIPO_DOCUMENTO_X_ACTIVIDAD ADD CONSTRAINT FK_36187_35661 
	FOREIGN KEY (ID_TIPO_DOCUMENTO) REFERENCES TIPO_DOCUMENTO (ID);

ALTER TABLE USUARIO_GRUPO ADD CONSTRAINT FKR_36263_36265D 
	FOREIGN KEY (ID_GRUPO) REFERENCES GRUPO (ID);

ALTER TABLE USUARIO_GRUPO ADD CONSTRAINT FKR_36265_36263S 
	FOREIGN KEY (ID_USUARIO) REFERENCES USUARIO (ID);

ALTER TABLE USUARIO_ROL ADD CONSTRAINT FKR_36261_36265D 
	FOREIGN KEY (ID_ROL) REFERENCES ROL (ID);

ALTER TABLE USUARIO_ROL ADD CONSTRAINT FKR_36265_36261S 
	FOREIGN KEY (ID_USUARIO) REFERENCES USUARIO (ID);

ALTER TABLE VAL_OBJ_NEG_X_ACT ADD CONSTRAINT FK_34084_34083 
	FOREIGN KEY (ID_REL_ACT_SOLICITUD) REFERENCES REL_ACT_SOLICITUD (ID);
